require_relative '../challenge'

source = [
  "???.### 1,1,3",
  ".??..??...?##. 1,1,3",
  "?#?#?#?#?#?#?#? 1,3,1,6",
  "????.#...#... 4,1,1",
  "????.######..#####. 1,6,5",
  "?###???????? 3,2,1",
  "????.######..#####.?????.######..#####.?????.######..#####.?????.######..#####.?????.######..#####. 1,6,5,1,6,5,1,6,5,1,6,5,1,6,5",
  ".??..??...?##.?.??..??...?##.?.??..??...?##.?.??..??...?##.?.??..??...?##. 1,1,3,1,1,3,1,1,3,1,1,3,1,1,3",
  "????.#...#...?????.#...#...?????.#...#...?????.#...#...?????.#...#... 4,1,1,4,1,1,4,1,1,4,1,1,4,1,1",
  "?#?#?#?#?#?#?#???#?#?#?#?#?#?#???#?#?#?#?#?#?#???#?#?#?#?#?#?#???#?#?#?#?#?#?#? 1,3,1,6,1,3,1,6,1,3,1,6,1,3,1,6,1,3,1,6"
]

# source = [
#   ".??..??...?##.?.??..??...?##.?.??..??...?##.?.??..??...?##.?.??..??...?##. 1,1,3,1,1,3,1,1,3,1,1,3,1,1,3"
# ]

record = ["???????????#???"]
list = [5, 2, 1]

RSpec.describe 'challenge#count_arrangements' do
  it 'should return an integer' do
    expect(count_arrangements(source).class).to eq(Integer)
  end

  it 'should accurately count the number of possible arrangements of springs' do
    expect(count_arrangements(source)).to eq(21 + 2500 + 16384 + 16 + 1)
  end
end

RSpec.describe 'challenge#count' do
  it 'should return an integer' do
    expect(count(record, list).class).to eq(Integer)
  end

  it 'should return the total amount of cards won' do
    expect(count(record, list)).to eq(22)
  end
end
